<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>ChatGPT</title>
  <link rel="stylesheet" href="index.css" />
</head>

<body class="myarrow">
  <div class="page darwin">
    <webview id="webview" src="https://chat.openai.com/chat" autosize="on">
    </webview>
  </div>
  <script>
    const webview = document.getElementById('webview');
    webview.addEventListener('dom-ready', function () {

      // hide message below text input, sidebar, suggestions on new chat
      webview.insertCSS(`
        .text-xs.text-center {
          opacity: 0;
          height: 0;
          margin-bottom: -10px;
        }
      `)

      const element = webview.executeJavaScript(`
        document.querySelector("[class*='shared__Wrapper']").innerHTML += "<h3>Start by asking anything.</h3>"
      `);

      window.electronAPI.onFocusTextbox((_event) => {
        webview.executeJavaScript(`
        setTimeout(function() {
          const textarea = document.querySelector('textarea');
          textarea.placeholder = 'Auto focused this textbox';
          textarea.focus();
        }, 200);
      `);
      })
    });
  </script>
</body>

</html>